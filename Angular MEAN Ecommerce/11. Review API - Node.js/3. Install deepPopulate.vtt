WEBVTT

00:00.590 --> 00:05.560
Hello guys will come back to Bill in populate can only populate one level.

00:05.780 --> 00:10.070
Let's say you want to populate products reviews owner attribute.

00:10.180 --> 00:17.450
So for example in this case let's say we managed to populate with you and then we get owner often we

00:17.450 --> 00:18.740
publish reviews right.

00:19.750 --> 00:27.070
Owner and if we get the object idea but how do we know we cannot use it properly to properly even this

00:27.550 --> 00:28.600
level.

00:28.630 --> 00:31.610
So we need a new library to help us.

00:31.630 --> 00:33.960
There's a library that fix this problem.

00:34.180 --> 00:36.820
It is called mongoose populate.

00:36.820 --> 00:38.990
So let us install this library.

00:39.040 --> 00:44.950
So first do this and go to here.

00:45.760 --> 00:59.250
And then you want to actually stall long as you pop the safe one safe.

00:59.260 --> 01:01.930
We want to upgrade our product schema.

01:02.260 --> 01:07.130
So by adding in an additional super power plug into it.

01:07.150 --> 01:08.320
So let's go ahead and do it.

01:08.410 --> 01:10.790
So let's import the dependency for us.

01:11.230 --> 01:17.660
So we go to of Yes and here we want to talk to conc.

01:17.670 --> 01:25.260
They are really going to require long.

01:26.830 --> 01:29.210
And they want to pass on

01:34.220 --> 01:34.800
right.

01:36.240 --> 01:41.790
So the next one is going to add additional superpower products scheme.

01:42.470 --> 01:51.630
So we tapping into Plug-In and part of the new.

01:51.740 --> 01:55.150
So now prox Kema can do populate.

01:55.430 --> 01:57.670
Let's go ahead and try to.

01:57.830 --> 02:01.330
So first is we want to this is we dot deep pockets.

02:01.340 --> 02:02.320
Right.

02:02.360 --> 02:09.600
So for example if you want to populate this field we cannot just use Poppy we have to use dot D properly.

02:09.860 --> 02:14.550
So let's good to on review.

02:14.720 --> 02:17.480
Oops good to mean yes single product.

02:17.480 --> 02:27.550
So for example let's say we want to walk to the right and use normal and not be saved this time ever

02:27.610 --> 02:28.400
again.

02:32.820 --> 02:39.930
And let's go ahead and send it again as you can see it populated the reviews of your ID.

02:40.360 --> 02:44.030
But the owner is still an object.

02:44.170 --> 02:45.260
We all want this.

02:45.550 --> 02:55.690
So technically if we go to here and we try to do reviews the Boehner it's going to work center again

02:56.830 --> 02:58.850
it will still be the same.

02:58.870 --> 03:01.210
Even worse it isn't even populated.

03:01.570 --> 03:08.270
So we go back here and change days to deep pocket books.

03:09.560 --> 03:15.140
I was about to show you an awesome one so deep pocketed.

03:15.480 --> 03:20.760
And let's go back to here and send Promissary solver.

03:20.780 --> 03:26.990
Undefined is not a fun shows to go back here and see it as a problem.

03:27.090 --> 03:37.220
Papilio So after some digging is actually factored into Jason the mongoose version is supposed to be

03:37.460 --> 03:39.560
four point thirteen point seven.

03:39.550 --> 03:44.220
Currently it is five five point zero point zero.

03:44.570 --> 03:50.630
So in order for us to change back to the previous version because depopulate doesn't work with a new

03:50.840 --> 03:52.500
version of mongoose.

03:52.580 --> 04:03.230
So the only way to fix this is to do this all mongoose at four point thirteen point seven dash dash

04:03.230 --> 04:08.340
space and roll back to that version.

04:10.250 --> 04:11.050
So safe.

04:11.060 --> 04:11.460
All right.

04:11.510 --> 04:14.280
So run and see is

04:17.450 --> 04:26.570
instead of or set the use mode client you have deprecation warning so we have to set mongoose line.

04:26.920 --> 04:31.170
You want to go back to Servite O.J.'s here.

04:31.180 --> 04:36.420
You want to use mobile client.

04:36.750 --> 04:38.220
True.

04:38.700 --> 04:45.790
And then you want see this there as it happens to be connected to the database.

04:45.790 --> 04:46.630
Awesome.

04:46.840 --> 04:54.310
So now let's go back to our Toseland and currently reviews you know haven't populated yet so we go back

04:54.310 --> 05:05.960
to here Indo-U.S. which is here the populate it will populate the owner object.

05:06.030 --> 05:17.370
So if you're into that so click send and then you go to revues attribute you see ID and it is populated.

05:17.370 --> 05:20.110
The owners object id as well.

05:20.580 --> 05:29.400
So next we want to do is to populate the categories ID so let's go back to here and over here you want

05:29.400 --> 05:40.220
to do that for you when we do need to use depopulate because we just want to get the rating from the

05:41.320 --> 05:42.460
in this video.

05:42.460 --> 05:49.870
We learn how to populate even deeper level but it help a mongoose Dashti populate in the next video

05:50.010 --> 05:54.300
we will learn how to calculate average rating for each product.

05:54.300 --> 05:55.700
I'll see you guys in the next video.
