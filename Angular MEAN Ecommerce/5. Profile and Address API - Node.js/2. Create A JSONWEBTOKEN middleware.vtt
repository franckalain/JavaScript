WEBVTT

00:00.600 --> 00:08.160
Help guys in this video we'll create our first custom middleware that will check whether the GMAT token

00:08.250 --> 00:09.710
is valid or not.

00:09.970 --> 00:14.120
And the token is of course from Jason Webb talking.

00:14.160 --> 00:15.210
So let's go and do that.

00:15.210 --> 00:21.300
So it was go to server and you want to right click here anyone want to create a new folder and you want

00:21.300 --> 00:22.740
to give it a name.

00:22.750 --> 00:24.040
Me too.

00:24.180 --> 00:26.240
Where is Swango.

00:26.400 --> 00:32.210
Under middle worse you want to create a new file and you want to give it a name check G G.

00:32.430 --> 00:32.800
G.

00:32.860 --> 00:34.160
Yes.

00:34.290 --> 00:40.740
So now you want to import all the important dependencies so Condes GW

00:47.600 --> 00:50.810
and cons choir

00:58.740 --> 01:04.590
and you want to explore the entire world which will be worse.

01:05.040 --> 01:05.910
And next

01:08.860 --> 01:14.110
to check that to get into dead.

01:14.570 --> 01:16.550
All right.

01:17.170 --> 01:18.120
So you check

01:20.860 --> 01:21.220
it

01:24.770 --> 01:32.050
out.

01:34.060 --> 01:35.900
Whoops.

01:36.980 --> 01:37.970
There are

01:49.330 --> 01:50.020
just push

01:54.930 --> 01:55.920
some

02:08.600 --> 02:19.640
else.

02:55.980 --> 03:02.820
Did but it didn't make it right.

03:03.160 --> 03:03.250
It

03:09.110 --> 03:17.270
what we are doing is we export the entire function so that we can use it in another file.

03:17.330 --> 03:25.400
The first line is simply we are requesting the headers of the GTP we want to check whether the header

03:25.400 --> 03:27.520
contains any tokens or not.

03:27.830 --> 03:35.220
If it does then we want to verify the token by checking the expiry date in the token.

03:35.220 --> 03:43.930
If there's an error response feel to it it's get tokin else we want to set the decoded value to request

03:43.930 --> 03:45.150
not decode it.

03:45.150 --> 03:47.090
So what is required Decoded.

03:47.290 --> 03:59.820
So later on if you want to access the user id do for example start Khoder dot dot on this or id or.

04:00.240 --> 04:06.210
Or because it's already encrypted in the token right.

04:06.300 --> 04:12.200
This will actually decrypt the token and then we can access the user's object.

04:12.260 --> 04:17.240
So finally we want to run a callback to proceed to the next task.

04:17.480 --> 04:19.890
So let's see if token does not exist.

04:20.240 --> 04:25.280
Then we want response with a message no token provided Let's see in the headers.

04:25.280 --> 04:31.060
There's a token then we want to respond with No 2 can provide it in this video.

04:31.160 --> 04:36.770
We learn how to create a custom function that will check whether the token does exist or not on the

04:36.950 --> 04:40.680
Atari or try zation header in the next video.

04:40.760 --> 04:47.720
We will create a profile API and we will use our custom middleware which is this middleware on our profile

04:47.720 --> 04:48.310
API.

04:48.470 --> 04:50.140
I'll see you in the next video.
